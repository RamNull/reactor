<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">

    {% seo %}
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    {% include head-custom.html %}

    <style>
      .main-wrapper {
        display: flex;
        align-items: flex-start;
      }
      .sidebar {
        width: 220px;
        padding: 1rem;
        border-right: 1px solid #eee;
        position: sticky;
        top: 0;
        height: 100vh;
        overflow-y: auto;
        background: #f9f9f9;
      }
      .sidebar h3 {
        margin-top: 0;
        font-size: 1rem;
        font-weight: bold;
      }
      .sidebar ul {
        list-style: none;
        padding-left: 0;
        font-size: 0.9rem;
      }
      .sidebar li {
        margin: 0.3rem 0;
      }
      .sidebar a {
        text-decoration: none;
        color: #157878;
      }
      .sidebar a:hover {
        text-decoration: underline;
      }
      .main-content {
        flex: 1;
        padding: 2rem;
        max-width: 900px;
      }
    </style>
  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
      <h2 class="project-tagline">{{ page.description | default: site.description | default: site.github.project_tagline }}</h2>
      {% if site.github.is_project_page %}
        <a href="{{ site.github.repository_url }}" class="btn">View on GitHub</a>
      {% endif %}
      {% if site.linkedin %}
        <a href="{{ site.linkedin }}" class="btn" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
      {% endif %}
      {% if site.show_downloads %}
        <a href="{{ site.github.zip_url }}" class="btn">Download .zip</a>
        <a href="{{ site.github.tar_url }}" class="btn">Download .tar.gz</a>
      {% endif %}
    </header>

    <main class="main-wrapper">
      <!-- Sidebar (auto TOC) -->
      <aside class="sidebar">
        <nav class="toc">
          <h3>Contents</h3>
          <!-- JS will generate the list -->
        </nav>
      </aside>

      <!-- Main Content -->
      <section id="content" class="main-content" role="main">
        {{ content }}

        <footer class="site-footer">
          {% if site.github.is_project_page %}
            <span class="site-footer-owner">
              <a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a>
              is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.
            </span>
          {% endif %}
          <span class="site-footer-credits">
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
          </span>
        </footer>
      </section>
    </main>

    <!-- JS: Auto-generate TOC -->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const content = document.querySelector("#content");
        const toc = document.querySelector(".toc");
        const headers = content.querySelectorAll("h1, h2, h3");

        if (headers.length) {
          let list = document.createElement("ul");
          headers.forEach(h => {
            if (!h.id) {
              h.id = h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
            }
            let li = document.createElement("li");
            li.style.marginLeft = (h.tagName === "H2" ? "10px" : (h.tagName === "H3" ? "20px" : "0"));
            li.innerHTML = `<a href="#${h.id}">${h.textContent}</a>`;
            list.appendChild(li);
          });
          toc.appendChild(list);
        }
      });
    </script>
  </body>
</html>
